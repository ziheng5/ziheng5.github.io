
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8" />
    <title>树莓派的初次尝试 | Cold Rain&#39;s Blog</title>
    <meta name="author" content="ColdRain" />
    <meta name="description" content="希望成为自己喜欢的模样" />
    <meta name="keywords" content="" />
    <meta
        name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
    />
    <link rel="icon" href="/images/head.jpg" />
    <link rel="preconnect" href="https://s4.zstatic.net" />
<script src="https://s4.zstatic.net/ajax/libs/vue/3.3.7/vue.global.prod.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
<link rel="preconnect" href="https://fonts.googleapis.cn" />
<link rel="preconnect" href="https://fonts.gstatic.cn" crossorigin />
<link
    rel="stylesheet"
    href="https://fonts.googleapis.cn/css2?family=Fira+Code:wght@400;500;600;700&family=Lexend:wght@400;500;600;700;800;900&family=Noto+Sans+SC:wght@400;500;600;700;800;900&display=swap"
/>
<script> const mixins = {}; </script>

<script src="https://polyfill.alicdn.com/v3/polyfill.min.js?features=default"></script>


<script src="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/highlightjs-line-numbers.js/2.8.0/highlightjs-line-numbers.min.js"></script>
<link
    rel="stylesheet"
    href="https://s4.zstatic.net/ajax/libs/highlight.js/11.9.0/styles/github.min.css"
/>
<script src="/js/lib/highlight.js"></script>


<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.js"></script>
<script src="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js"></script>
<link rel="stylesheet" href="https://s4.zstatic.net/ajax/libs/KaTeX/0.16.9/katex.min.css" />
<script src="/js/lib/math.js"></script>


<script src="/js/lib/preview.js"></script>









<link rel="stylesheet" href="/css/main.css" />

<meta name="generator" content="Hexo 7.3.0"></head>
<body>
    <div id="layout">
        <transition name="fade">
            <div id="loading" v-show="loading">
                <div id="loading-circle">
                    <h2>LOADING</h2>
                    <p>加载过慢请开启缓存 浏览器默认开启</p>
                    <img src="/images/loading.gif" />
                </div>
            </div>
        </transition>
        <div id="menu" :class="{ hidden: hiddenMenu, 'menu-color': menuColor}">
    <nav id="desktop-menu">
        <a class="title" href="/">
            <span>COLD RAIN&#39;S BLOG</span>
        </a>
        
        <a href="/">
            <i class="fa-solid fa-house fa-fw"></i>
            <span>&ensp;Homepage</span>
        </a>
        
        <a href="/2024/11/26/test">
            <i class="fa-solid fa-id-card fa-fw"></i>
            <span>&ensp;About</span>
        </a>
        
        <a href="/archives">
            <i class="fa-solid fa-box-archive fa-fw"></i>
            <span>&ensp;Archives</span>
        </a>
        
        <a href="/categories/%E6%9D%82%E8%B0%88">
            <i class="fa-solid fa-bookmark fa-fw"></i>
            <span>&ensp;Categories</span>
        </a>
        
        <a href="/tags/%E6%9D%82%E8%B0%88">
            <i class="fa-solid fa-tags fa-fw"></i>
            <span>&ensp;Tags</span>
        </a>
        
    </nav>
    <nav id="mobile-menu">
        <div class="title" @click="showMenuItems = !showMenuItems">
            <i class="fa-solid fa-bars fa-fw"></i>
            <span>&emsp;COLD RAIN&#39;S BLOG</span>
        </div>
        <transition name="slide">
            <div class="items" v-show="showMenuItems">
                
                <a href="/">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-house fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Homepage</div>
                    </div>
                </a>
                
                <a href="/2024/11/26/test">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-id-card fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">About</div>
                    </div>
                </a>
                
                <a href="/archives">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-box-archive fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Archives</div>
                    </div>
                </a>
                
                <a href="/categories/%E6%9D%82%E8%B0%88">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-bookmark fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Categories</div>
                    </div>
                </a>
                
                <a href="/tags/%E6%9D%82%E8%B0%88">
                    <div class="item">
                        <div style="min-width: 20px; max-width: 50px; width: 10%">
                            <i class="fa-solid fa-tags fa-fw"></i>
                        </div>
                        <div style="min-width: 100px; max-width: 150%; width: 20%">Tags</div>
                    </div>
                </a>
                
            </div>
        </transition>
    </nav>
</div>
<transition name="fade">
    <div id="menu-curtain" @click="showMenuItems = !showMenuItems" v-show="showMenuItems"></div>
</transition>

        <div id="main" :class="loading ? 'into-enter-from': 'into-enter-active'">
            <div class="article">
    <div>
        <h1>树莓派的初次尝试</h1>
    </div>
    <div class="info">
        <span class="date">
            <span class="icon">
                <i class="fa-solid fa-calendar fa-fw"></i>
            </span>
            2025/1/17
        </span>
        
        <span class="category">
            <a href="/categories/%E6%A0%91%E8%8E%93%E6%B4%BE/">
                <span class="icon">
                    <i class="fa-solid fa-bookmark fa-fw"></i>
                </span>
                树莓派
            </a>
        </span>
        
        
        <span class="tags">
            <span class="icon">
                <i class="fa-solid fa-tags fa-fw"></i>
            </span>
            
            
            <span class="tag">
                
                <a href="/tags/%E6%A0%91%E8%8E%93%E6%B4%BE/" style="color: #00bcd4">
                    树莓派
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/%E7%A1%AC%E4%BB%B6/" style="color: #00a596">
                    硬件
                </a>
            </span>
            
            <span class="tag">
                
                <a href="/tags/Ubuntu/" style="color: #ffa2c4">
                    Ubuntu
                </a>
            </span>
            
        </span>
        
    </div>
    
    <div class="content" v-pre>
        <blockquote>
<p>大二上半学期期末周的时候突然心血来潮，想要做一些硬件开发（人脸识别锁、指纹锁和无人机啥的）</p>
<p>由于之前除了 ESP8266 的板子以及 MicroPython 这个工具外，其他硬件相关的东西基本上没接触过。</p>
<p>于是小生买了一块似乎比较好上手的树莓派 4b，准备熬过期末周之后好好折腾一番。</p>
</blockquote>
<h1 id="1-🔥-烧录系统"><a href="#1-🔥-烧录系统" class="headerlink" title="1. 🔥 烧录系统"></a>1. 🔥 烧录系统</h1><h2 id="1-1-准备-SD-卡和读卡器"><a href="#1-1-准备-SD-卡和读卡器" class="headerlink" title="1.1 准备 SD 卡和读卡器"></a>1.1 准备 SD 卡和读卡器</h2><p>不同于普通计算机，树莓派采用 SD 卡来存储系统及其内部信息</p>
<p>所以，想要在树莓派上运行操作系统，首先需要在一张 SD 卡中烧入系统。</p>
<p>将 SD 卡插入读卡器，再将读卡器插入电脑的 USB 接口，便可以在电脑上对 SD 卡进行操作</p>
<p>（这里缺图）</p>
<blockquote>
<p>这里小生建议多准备一张 SD 卡，以备不时之需</p>
</blockquote>
<h2 id="1-2-Raspberry-Pi-Imager"><a href="#1-2-Raspberry-Pi-Imager" class="headerlink" title="1.2 Raspberry Pi Imager"></a>1.2 Raspberry Pi Imager</h2><p>如果你此前有在电脑上装操作系统的经验，那么这个时候估计你第一个想到的方法就是从网上把某个操作系统的镜像下载下来之后再装到 SD 卡上。</p>
<p>然而，树莓派官方提供了更为便捷的途径：通过树莓派官方提供的 <a target="_blank" rel="noopener" href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a> 将适配的操作系统直接安装到 SD 卡上。Raspberry Pi Imager 提供了树莓派官方操作系统以及各种其他 Linux 发行版的镜像，安装也十分迅速便捷。</p>
<p>于是小生采用 Raspberry Pi Imager 在我的第一张 SD 卡上装一个 <strong>Ubuntu Desktop 24.04.1</strong> 系统。</p>
<blockquote>
<p>⚠️：不建议装 Ubuntu 24 版本，后面做各种兼容太麻烦了，这里小生建议装老版本，比如 Ubuntu 22</p>
</blockquote>
<p>将 Raspberry Pi Imager 下载下来之后，点击运行，出现以下界面：</p>
<p><img src="/../images/raspberrypi/pic1.png" alt="raspberrypiimager"></p>
<ul>
<li>点击 “CHOOSE DEVICE” 后，选择 “Raspberry Pi 4”。</li>
<li>点击 “CHOOSE OS” 后，选择 “Other general-purpose OS”，接着选择 “Ubuntu”，再选择 “Ubuntu Desktop 24.04.1 LTS(64-bit)”</li>
<li>点击 “CHOOSE STORAGE”后，选择插到电脑上的那张 SD 卡。</li>
</ul>
<blockquote>
<p>⚠️ 注意：</p>
<ol>
<li><p>也可以选择在 “CHOOSE OS” 界面选择其他操作系统。如果没有自己想要安装的操作系统，也可以自行安装其他系统镜像</p>
</li>
<li><p>安装操作系统的 SD 卡尽量用空卡，因为烧录的时候会先把 SD 卡格式化，删除其中所有数据。如果使用之前用过的 SD 卡，则务必确保其中没有存储重要信息！</p>
</li>
</ol>
</blockquote>
<p>接下来点击 “NEXT”，等待系统安装完毕即可。</p>
<h1 id="2-💻-配置系统"><a href="#2-💻-配置系统" class="headerlink" title="2. 💻 配置系统"></a>2. 💻 配置系统</h1><h2 id="2-1-接入外设"><a href="#2-1-接入外设" class="headerlink" title="2.1 接入外设"></a>2.1 接入外设</h2><p>经过上面的操作，小生的 SD 卡中已经有了一个 Ubuntu Desktop 24.04.1 操作系统，接下来需要将 SD 卡插入到树莓派上的卡槽中，并在树莓派上配置操作系统。</p>
<p>配置操作系统需要给树莓派外接显示器、键盘和鼠标。</p>
<p>树莓派上连接显示器的接口采用 <strong>Micro HDMI</strong>，即小号的 HDMI，所以我们需要准备一根 <strong>HDMI-Micro HDMI 转接线</strong>。</p>
<p>键盘和鼠标直接通过树莓派上的 USB 接口连接即可。</p>
<blockquote>
<p>⚠️ 树莓派上运行操作系统后，CPU 发热极其厉害，建议先在树莓派上贴好散热片，或者安装散热风扇。</p>
</blockquote>
<h2 id="2-2-开始配置"><a href="#2-2-开始配置" class="headerlink" title="2.2 开始配置"></a>2.2 开始配置</h2><p>由于 Ubuntu 配置过程极其简单，这里就不再赘述，需要注意的一点是选择语言的时候尽量选择英文。</p>
<h2 id="2-3-配置-apt-镜像"><a href="#2-3-配置-apt-镜像" class="headerlink" title="2.3 配置 apt 镜像"></a>2.3 配置 apt 镜像</h2><p>这里小生采用清华源，首先打开配置文件：</p>
<pre><code class="Terminal">sudo nano /etc/apt/sources.list
</code></pre>
<p>在配置文件中粘贴如下代码：</p>
<pre><code class="Terminal">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre>
<p>保存退出后，运行以下指令来更新软件列表到本地：</p>
<pre><code class="Terminal">sudo apt-get update
</code></pre>
<pre><code class="Terminal">sudo apt-get upgrade
</code></pre>
<p>等待更新完毕，镜像源就配置完毕了。</p>
<h2 id="2-4-配置必要的功能"><a href="#2-4-配置必要的功能" class="headerlink" title="2.4 配置必要的功能"></a>2.4 配置必要的功能</h2><h3 id="2-4-1-SSH-连接"><a href="#2-4-1-SSH-连接" class="headerlink" title="2.4.1 SSH 连接"></a>2.4.1 SSH 连接</h3><p>如果需要使用 SSH 连接到树莓派，树莓派上的操作系统要安装一下 openssh-server：</p>
<pre><code class="Terminal">sudo apt install openssh-server
</code></pre>
<p>而客户端（这里小生客户端使用的是 ArchLinux）需要安装 openssh-client：</p>
<pre><code class="Terminal"># 这里小生使用的是 ArchLinux，如果是其他操作系统请使用对应的指令
paru -S openssh
</code></pre>
<p>安装完成后，开启手机热点或电脑热点（如果哟的话），在手机上查看连接设备以获取树莓派的 IP 地址（或者在树莓派的 Ubuntu 终端中输入 <code>ip addr</code> 以查看 IP 地址）。</p>
<p>确保树莓派和电脑在同一个网络下，先ping一下：</p>
<pre><code class="Terminal">ping IP地址
</code></pre>
<p>如果ping得通，在电脑终端（这里小生用的是 ArchLinux）中输入以下指令：</p>
<pre><code class="Terminal">ssh 用户名@IP地址
</code></pre>
<p>如果成功连接，则会要求你输入密码。如果长时间没反应或者直接报错，说明哪里没有配置好。</p>
<h3 id="2-4-2-vim"><a href="#2-4-2-vim" class="headerlink" title="2.4.2 vim"></a>2.4.2 vim</h3><p>Ubuntu 系统自带一个 vim,但是这个 vim 其实是 vim-common，不好用，我们将它卸载掉，然后重新安装一个 vim。</p>
<pre><code class="Terminal">sudo apt-get remove vim-common
sudo apt-get install vim
</code></pre>
<h2 id="2-5-配置-conda-环境"><a href="#2-5-配置-conda-环境" class="headerlink" title="2.5 配置 conda 环境"></a>2.5 配置 conda 环境</h2><p>Ubuntu 24.04.1 系统自带 Python2 和 Python3，但是环境管理不太方便，所有小生决定安装一个 miniconda </p>
<p>在安装 miniconda 前，<strong>务必</strong>查看 CPU 信息：</p>
<pre><code class="Terminal">lscpu
</code></pre>
<p>在输出内容中找到树莓派 CPU 信息（这里小生的 CPU 是 <strong>aarch64</strong> 的）。</p>
<p>然后根据 CPU 型号，选择下载对应的 miniconda 版本：</p>
<pre><code class="Terminal">wget https://repo.anaconda.com/miniconda/Miniconda3-latest-Linux-aarch64.sh
</code></pre>
<p>下载完成后，目录下出现 Miniconda3-latest-Linux-aarch64.sh 文件。</p>
<p>接下来添加可执行权限：</p>
<pre><code class="Terminal">sudo chmod +x Miniconda3-latest-Linux-aarch64.sh
</code></pre>
<p>然后运行安装脚本：</p>
<pre><code class="Terminal">sudo ./Miniconda3-latest-Linux-aarch64.sh
</code></pre>
<p>接下来按照提示完成安装操作即可。</p>
<h1 id="3-🚢-文件传输"><a href="#3-🚢-文件传输" class="headerlink" title="3. 🚢 文件传输"></a>3. 🚢 文件传输</h1><h2 id="3-1-SCP-上传文件"><a href="#3-1-SCP-上传文件" class="headerlink" title="3.1 SCP 上传文件"></a>3.1 SCP 上传文件</h2><p>SCP，即 Security Copy，通过 SCP 命令可以在本地主机和远程主机之间安全且便捷地复制文件和目录</p>
<p>具体实现方法采用下面的命令格式：</p>
<pre><code class="Terminal">scp local_file_location remote_username@remote_ip:remot_file_location
</code></pre>
<p>举个例子：</p>
<p>比如说，现在我们本地计算机的用户名为 lengyu,我们在 Desktop 文件夹下建立一个 <code>local_file.txt</code> 文件。</p>
<p>远程服务器用户名为 coldrain,现在小生想要把 <code>local_file.txt</code> 从本地计算机传输到远程服务器上，那么这个时候小生需要在本地计算机上运行如下指令：</p>
<pre><code class="Terminal">scp /home/lengyu/Desktop/local_file.txt coldrain@xxx.xxx.xxx.xxx:/home/coldrain/Desktop
</code></pre>
<p>运行结果如下：</p>
<pre><code class="Terminal">scp /home/lengyu/Documents/local_file.txt coldrain@192.168.37.122:/home/coldrain/Desktop
coldrain@192.168.37.122&#39;s password:
local_file.txt                                             100%    0     0.0KB/s   00:00
</code></pre>
<p>然后我们就可以在远程服务器上的 <code>/home/coldrain/Desktop</code> 目录下发现 <code>local_file.txt</code> 文件了</p>
<p>如果需要上传文件夹，记得在 <code>scp</code> 后面加上 <code>-r</code>，即：</p>
<pre><code class="Termminal">scp -r local_folder_location remote_username@remote_ip:remot_file_location
</code></pre>
<h2 id="3-2-SCP-下载文件"><a href="#3-2-SCP-下载文件" class="headerlink" title="3.2 SCP 下载文件"></a>3.2 SCP 下载文件</h2><p>网上查到的具体实现方法采用下面的命令格式：</p>
<pre><code class="Terminal">scp remote_name@remote_ip:remote_file_location local_file_location
</code></pre>
<p>然而实际操作的时候，小生这里<strong>报了一个错</strong> 😨：</p>
<pre><code class="Terminal">scp: open local &quot;/usr/test.txt&quot;: Permission denied
</code></pre>
<p>查找了一会儿资料，发现是没有权限在本地计算机的文件夹上写入文件。于是小生更改了本地计算机目标文件夹的写入权限：</p>
<pre><code class="Terminal">chmod 777 /home/local_name/Documents
</code></pre>
<blockquote>
<p>注：<code>chmod 777</code> 命令可以更改文件夹权限为可写入</p>
</blockquote>
<p>运行上述代码后，再次尝试下载文件，下载成功 ✌️</p>

    </div>
    
    
    
    
    
    
    
</div>

            <footer id="footer">
    <div id="footer-wrap">
        <div>
            &copy;
            2022 - 2025 Cold Rain&#39;s Blog
            <span id="footer-icon">
                <i class="fa-solid fa-font-awesome fa-fw"></i>
            </span>
            &commat;ColdRain
        </div>
        <div>
            Based on the <a target="_blank" rel="noopener" href="https://hexo.io">Hexo Engine</a> &amp;
            <a target="_blank" rel="noopener" href="https://github.com/theme-particlex/hexo-theme-particlex">ParticleX Theme</a>
        </div>
        
    </div>
</footer>

        </div>
        
        <transition name="fade">
            <div id="preview" ref="preview" v-show="previewShow">
                <img id="preview-content" ref="previewContent" />
            </div>
        </transition>
        
    </div>
    <script src="/js/main.js"></script>
    
    




    
</body>
</html>
